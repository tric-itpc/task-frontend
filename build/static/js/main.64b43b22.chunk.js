(window["webpackJsonptric-test-task"]=window["webpackJsonptric-test-task"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(4),o=a.n(s),l=(a(16),a(1)),m=a.n(l),c=a(5),i=a(2),u=a(6),g=a(7),p=a(9),f=a(8),_=a(10),d=function(e){var t=e.message;return n.a.createElement("li",null,t)};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v=new RegExp(/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/),N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",secondName:"",email:"",category:"",message:"",img:null,errors:{name:"empty",img:"empty",email:"empty",category:"empty",message:"empty"}},a.validateField=function(e){var t=a.state,r=t.firstName,n=t.secondName,s=t.email,o=t.category,l=t.message,m=t.img,c=m?m.size/1024/1024:0;switch(e){case"email":s.match(v)?a.setState({errors:h({},a.state.errors,{email:""})}):a.setState({errors:h({},a.state.errors,{email:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"})});break;case"firstName":case"secondName":r||n?a.setState({errors:h({},a.state.errors,{name:""})}):a.setState({errors:h({},a.state.errors,{name:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438\u043c\u044f \u0438\u043b\u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"})});break;case"category":o?a.setState({errors:h({},a.state.errors,{category:""})}):a.setState({errors:h({},a.state.errors,{category:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})});break;case"message":l.length<10?a.setState({errors:h({},a.state.errors,{message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})}):a.setState({errors:h({},a.state.errors,{message:""})});break;case"img":c>2?a.setState({errors:h({},a.state.errors,{img:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 2\u041c\u0431"})}):a.setState({errors:h({},a.state.errors,{img:""})});break;default:return}},a.onFieldChange=function(e){var t=e.target,r=t.name,n=t.value;a.setState(h({},a.state,Object(i.a)({},r,n.trim())),function(){return a.validateField(r)})},a.onImageChange=function(){var e=Object(c.a)(m.a.mark(function e(t){var r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target).files){e.next=6;break}return n=r.files[0],e.next=5,a.setState(h({},a.state,{img:n}),function(){a.validateField("img")});case 5:""!==a.state.errors.img&&(r.value="",a.setState(h({},a.state,{img:null})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkFormCompletion=function(){var e=a.state.errors;return!(e.email||e.category||e.message||e.name)},a.onSubmit=function(e){var t=a.state,r=t.firstName,n=t.secondName,s=t.email,o=t.category,l=t.message,m=t.img;e.preventDefault();var c={firstName:r,secondName:n,email:s,category:o,message:l,img:null};m?a.convertFileToBase64(m).then(function(e){c.img=e}).then(function(){return alert("Json \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: ".concat(JSON.stringify(c)))}):alert("Json \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: ".concat(JSON.stringify(c)))},a.convertFileToBase64=function(e){return new Promise(function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.errors,t=this.checkFormCompletion();return console.log(e),r.createElement("div",{className:"form-div"},r.createElement("form",{className:"form"},r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label"},"\u0418\u043c\u044f"),r.createElement("input",{className:"form__input form__required",type:"text",name:"firstName",onChange:this.onFieldChange})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.createElement("input",{className:"form__input",type:"text",name:"secondName",onChange:this.onFieldChange})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label form__group-label_required"},"Email"),r.createElement("input",{className:"form__input",type:"email",name:"email",onChange:this.onFieldChange})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label form__group-label_required"},"\u0422\u0438\u043f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),r.createElement("select",{className:"select",name:"category",onChange:this.onFieldChange},r.createElement("option",{value:"",selected:!0,hidden:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"),r.createElement("option",{className:"select__option",value:"\u0416\u0430\u043b\u043e\u0431\u0430"},"\u0416\u0430\u043b\u043e\u0431\u0430"),r.createElement("option",{className:"select__option",value:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c"},"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c"))),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label form__group-label_required"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"),r.createElement("textarea",{className:"form__input",name:"message",placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435.",cols:30,rows:10,onChange:this.onFieldChange})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__group-label"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.createElement("input",{className:"form__input-img",type:"file",name:"image",accept:".jpg,.jpeg,.png",onChange:this.onImageChange})),r.createElement("div",{className:"form__group"},r.createElement("ul",{className:"form__errors"},Object.values(e).map(function(e,t){if("empty"!==e&&""!==e)return r.createElement(d,{key:t,message:e})}))),r.createElement("button",{className:"form__submit-button",disabled:!t,onClick:this.onSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(r.Component),y=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(N,null))};o.a.render(n.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.64b43b22.chunk.js.map